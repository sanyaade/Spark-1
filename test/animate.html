<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv='Content-Type' content='text/html; charset=utf-8' />
		<style type='text/css'>
			div.d1 {
				width: 100px;
				height: 120px;
				border: 1px dotted #000000;
				margin: 25px;
				background-color: #CCFF00;
			}
			
			div.d2 {
				width: 320px;
				height: 80px;
				border: 3px solid #00FF00;
				margin: 50px;
				background-color: #FFAA00;
			}
		</style>
	</head>
	
	<body>
		<div class='d1'></div>
		<div class='d2'></div>
		
		<script type='text/javascript' src='../spark.js'></script>
		<script type='text/javascript'>
			function runAnimation() {
				$('div.d1, div.d2').animate({
					width: 400,
					height: 400
				}, false, false, function() {
					console.log('First done');
				}).animate({
					margin: 10,
					borderWidth: 5
				}).animate({
					borderWidth: 1,
					backgroundColor: '#CCCCCC'
				}).animate({
					width: 100,
					height: 100
				}).animate({
					opacity: 0
				}, 3000, false, function() {
					$('div.d1').animate({
						width: 100,
						height: 120,
						borderWidth: 1,
						margin: 25,
						backgroundColor: '#CCFF00',
						opacity: 1
					}, 3000);
					
					$('div.d2').animate({
						width: 320,
						height: 80,
						borderWidth: 3,
						margin: 50,
						backgroundColor: '#FFAA00',
						opacity: 1
					}, 3000);
				});
			}
			
			Spark.ready(runAnimation);
		</script>
	</body>
</html>